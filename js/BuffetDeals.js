//  let coupon_data=[{
//     id:1,
//     image:"",
//     title:"",
//     location:"",
//     badge:"",
//     badge_text:"",
//     price:"",
//     cost:"",
//     bought:"",
//  },]


let coupon_data = [
    {
    id: 19,
    image: "https://img4.nbstatic.in/tr:w-350/5795e9eb4cedfd000eaa96b8.jpg",
    title: "The Barbeque Company Karkar Duma",
    location: "Karkar Duma",
    badge: "RECOMMENDED",
    badge_text: "3+1 on Buffets",
    price:3299,
    cost: "3299 for 4 people",
    bought: "6,312"
    },
    {
    id: 20,
    image: "https://img4.nbstatic.in/tr:w-350/5c514eeecff47e000de10c84.jpg",
    title: "Level 2 - Radisson Blu Outer Ring Road, Paschim Vihar",
    location: "Paschim Vihar",
    badge: "RECOMMENDED",
    badge_text: "3+1 on Buffets",
    price:5532,
    cost: "5532 for 4 people",
    bought: "1,415"
    },
    {
    id: 21,
    image: "https://img4.nbstatic.in/tr:w-350/5fbcace45cc6f2000bc7fade.jpg",
    title: "Castle Barbeque Connaught Place",
    location: "Connaught Place",
    badge: "RECOMMENDED",
    badge_text: "3+1 on Buffets",
    price:3199,
    cost: "3199 for 4 people",
    bought: "5,396"
    },
    {
    id: 22,
    image: "https://img4.nbstatic.in/tr:w-350/5f02d081652205000b667f6e.jpg",
    title: "Castle's Barbeque Pacific Mall, Tilak Nagar",
    location: "Tilak Nagar",
    badge: "RECOMMENDED",
    badge_text: "3+1 on Buffets",
    price:3199,
    cost: "3199 for 4 people",
    bought: "5,544"
    },
    {
    id: 23,
    image: "https://img4.nbstatic.in/tr:w-350/5f05ab8b6b2f07000bc7624f.jpg",
    title: "Barbeque Nation Kasturba Gandhi Marg, Connaught Place",
    location: "Connaught Place",
    badge: "RECOMMENDED",
    badge_text: "3+1 on Buffets",
    price:3618,
    cost: "3618 for 4 people",
    bought: "20,288"
    },
    {
    id: 24,
    image: "https://img4.nbstatic.in/tr:w-350/63159ef5c10843000bd0eab2.jpg",
    title: "Edesia - Crowne Plaza Today New Delhi Okhla",
    location: "New Delhi Okhla",
    badge: "RECOMMENDED",
    badge_text: "3+1 on Buffets",
    price:7782,
    cost: "7782 for 4 people",
    bought:"73"
    },
    {
        id: 25,
        image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
        title: "Barbeque Nation - Maharaja Residency and Banquet Lakshmi Nagar",
        location: "Lakshmi Nagar",
        badge: "RECOMMENDED",
        badge_text: "3+1 on Buffets",
        price:2832,
        cost: "2832 for 4 people",
        bought: "80"
        },
        {
        id: 26,
        image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
        title: "Barbeque Nation Rajouri Garden",
        location: "Rajouri Garden",
        badge: "RECOMMENDED",
        badge_text: "3+1 on Buffets",
        price:3297,
        cost: "3297 for 4 people",
        bought: "12,039"
        },
        {
        id: 27,
        image: "https://img4.nbstatic.in/tr:w-350/56c552f40b04511bf2633995.jpg",
        title: "Buffets Promenade - Park Plaza Surajmal Vihar",
        location: "Surajmal Vihar",
        badge: "RECOMMENDED",
        badge_text: "3+1 on Buffets",
        price:4725,
        cost: "4725 for 4 people",
        bought: "42"
        },
        {
        id: 28,
        image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
        title: "Barbeque Nation New Friends Colony Market, Friends Colony East",
        location: "Friends Colony East",
        badge: "RECOMMENDED",
        badge_text: "3+1 on Buffets",
        price:3147,
        cost: "3147 for 4 people",
        bought: "12,852"
        },
        {
        id: 29,
        image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
        title: "Barbeque Nation Emaya, Paschim Vihar",
        location: "Paschim Vihar",
        badge: "RECOMMENDED",
        badge_text: "3+1 on Buffets",
        price:2988,
        cost: "2988 for 4 people",
        bought: "12,090"
        },
        {
        id: 30,
        image: "https://img4.nbstatic.in/tr:w-350/61a9e8ef1e2731000b1bc7ca.jpg",
        title: "The BBQ Industry Jail Road",
        location: "Jail Road",
        badge: "RECOMMENDED",
        badge_text: "3+1 on Buffets",
        price:2800,
        cost: "2800 for 4 people",
        bought: "7922"
        },
        {
            id: 31,
            image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
            title: "Barbeque Nation Netaji Subhash Place",
            location: "Netaji Subhash Place",
            badge: "RECOMMENDED",
            badge_text: "3+1 on Buffets",
            price:3462,
            cost: "3462 for 4 people",
            bought: "16,538"
            },
            {
            id: 32,
            image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
            title: "Barbeque Nation Saket",
            location: "Saket",
            badge: "RECOMMENDED",
            badge_text: "3+1 on Buffets",
            price:3462,
            cost: "3462 for 4 people",
            bought: "19,169"
            },
            {
            id: 33,
            image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
            title: "Barbeque Nation Unity One Mall, Janakpuri",
            location: "Janakpuri",
            badge: "RECOMMENDED",
            badge_text: "3+1 on Buffets",
            price:3462,
            cost: "3462 for 4 people",
            bought: "19,887"
            },
            {
            id: 34,
            image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
            title: "Barbeque Nation Unity One, Rohini Sector 12",
            location: "Rohini Sector 12",
            badge: "RECOMMENDED",
            badge_text: "3+1 on Buffets",
            price:3462,
            cost: "3462 for 4 people",
            bought: "14,331"
            },
            {
            id: 35,
            image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
            title: "Barbeque Nation Vegas Mall, Sector 14 Dwarka",
            location: "Sector 14 Dwarka",
            badge: "RECOMMENDED",
            badge_text: "3+1 on Buffets",
            price:3462,
            cost: "3462 for 4 people",
            bought: "13,921"
            },
            {
            id: 36,
            image: "https://img4.nbstatic.in/tr:w-350/633ab81e22156b000be026fe.jpg",
            title: "Barbeque Nation Maharaja Surajmal Road, Vivek Vihar Phase 2",
            location: "Vivek Vihar Phase 2",
            badge: "RECOMMENDED",
            badge_text: "3+1 on Buffets",
            price:3462,
            cost: "3462 for 4 people",
            bought: "16,219"
            },
];

// filtering in ascening order
let asc=document.getElementById("asc");
asc.addEventListener("change",function(){
    let asc_data=coupon_data.sort(function(a,b){
        return a.price-b.price;
    });
    create_card(asc_data);
});

let desc=document.getElementById("desc");
desc.addEventListener("change",function(){
    let desc_data=coupon_data.sort(function(a,b){
        return b.price-a.price;
    });
    create_card(desc_data);
});


let Aerocity=document.getElementById("Aerocity");
Aerocity.addEventListener("change",function(){
    let Aerocity_data=coupon_data.filter(function(element){
        return element.location=="Aerocity";
    });
    create_card(Aerocity_data);
});

let Connaught_place=document.getElementById("Connaught_Place");
Connaught_place.addEventListener("change",function(){
    let Connaught_place_data=coupon_data.filter(function(element){
        return element.location=="Connaught Place";
    });
    create_card(Connaught_place_data);
});

let Noida=document.getElementById("Noida");
Noida.addEventListener("change",function(){
    let noida_data=coupon_data.filter(function(element){
        return element.location=="Noida";
    });
    create_card(noida_data);
});



let cart=JSON.parse(localStorage.getItem("cart"))||[];


//  catching div from html

const coupon_div=document.getElementById("coupon_div");

//  creating function to display data

function create_card(coupon_data){
    coupon_div.innerHTML="";
    coupon_data.forEach(function(element){
        let card_container=document.createElement("div");
        card_container.classList.add("col");


        let card=document.createElement("div");
        card.classList.add("card", "h-100","COSTOMIZATION_ON_CARD");
        button=document.createElement("button");
        // button.classList.add("");
        button.innerText="Buy Now";

        card.innerHTML=`
        <img src="${element.image}" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">${element.title}</h5>
          <p class="card-text">${element.location}</p>
          <div>
              <span class="badge bg-primary">${element.badge}</span>
              <span>${element.badge_text}</span>
          </div>
          <p>â‚¹${element.cost}</p>
        </div>
        <div class="card-footer">
            <small class="text-muted">${element.bought} bought</small>
        </div>
        `;
        card.append(button);
        button.addEventListener("click",function(){
            // console.log(clicked);
            if(checkDuplicate(element.id)){
                alert("already added to cart");
            }
            else{
                cart.push(element);
                localStorage.setItem("cart",JSON.stringify(cart));
                alert("added to cart");
            }

        });
        card_container.append(card);
        coupon_div.append(card_container);
    })
}

// calling function
create_card(coupon_data);


function checkDuplicate(id){
    for (let i = 0; i < cart.length; i++) {
        if(cart[i].id==id){
            return true;
        }
        
    }
    return false;
    
}