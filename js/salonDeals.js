//  let coupon_data=[{
//     id:1,
//     image:"",
//     title:"",
//     location:"",
//     badge:"",
//     badge_text:"",
//     price:"",
//     cost:"",
//     bought:"",
//  },]

let coupon_data=[
    {
        id: 55,
        image: "https://img4.nbstatic.in/tr:w-350/611236261e2731000b703493.jpg",
        title: "Hair Masters Luxury Salon",
        location: "Shankar Road, New Rajendra Nagar",
        badge: "DEALS",
        badge_text: "",
        price: 599,
        cost: "Salon Services from 599",
        bought: "1,874"
        },
        {
        id: 56,
        image: "https://img4.nbstatic.in/tr:w-350/5c17410f5f1503000e5a03e0.jpg",
        title: "Purete Unisex Salon",
        location: "Malviya Nagar Corner Market, Malviya Nagar",
        badge: "DEALS",
        badge_text: "",
        price: 999,
        cost: "Salon Services from 999",
        bought: "1,637"
        },
        {
        id: 57,
        image: "https://img4.nbstatic.in/tr:w-350/5c3432e0ee3588000d918041.jpg",
        title: "Jawed Habib Hair & Beauty",
        location: "Vikas Surya Shopping Mall, Manglam Place Rohini",
        badge: "DEALS",
        badge_text: "",
        price: 349,
        cost: "Salon Services from 349",
        bought: "1,947"
        },
        {
        id: 58,
        image: "https://img4.nbstatic.in/tr:w-350/5f0808746b2f07000bc774ee.jpg",
        title: "Hair Masters Luxury Salon",
        location: "Vegas Mall, Sector 14 Dwarka",
        badge: "DEALS",
        badge_text: "",
        price: 449,
        cost: "Salon Services from 449",
        bought: "1,444"
        },
        {
        id: 59,
        image: "https://img4.nbstatic.in/tr:w-350/5f0c29fedc0e82000c3e9f5e.jpg",
        title: "Glanz Studio Unisex Salon",
        location: "Central Market Lajpat Nagar 2, Lajpat Nagar 2",
        badge: "DEALS",
        badge_text: "",
        price: 99,
        cost: "Salon Services from 99",
        bought: "1,676"
        },
        {
        id: 60,
        image: "https://img4.nbstatic.in/tr:w-350/5bf25a915f1503000da58999.jpg",
        title: "Te Amo Unisex Salon",
        location: "Kalkaji",
        badge: "DEALS",
        badge_text: "",
        price: 249,
        cost: "Salon Services from 249",
        bought: "1,212"
        },
        {
            id: 61,
            image: "https://img4.nbstatic.in/tr:w-350/5ee9c55fc9e77c000b1ef52e.jpg",
            title: "Dear Donna Salon",
            location: "Funcity Mall, Rohini Sector 14",
            badge: "DEALS",
            badge_text: "",
            price: 299,
            cost: "Salon Services from 299",
            bought: "663"
            },
            {
            id: 62,
            image: "https://img4.nbstatic.in/tr:w-350/5c17410f5f1503000e5a03e0.jpg",
            title: "Salon Nirvana By SS",
            location: "Gurudwara Road, Tilak Nagar",
            badge: "DEALS",
            badge_text: "",
            price: 249,
            cost: "Salon Services from 249",
            bought: "554"
            },
            {
            id: 63,
            image: "https://img4.nbstatic.in/tr:w-350/5bab4396c9e77c000d397fd4.jpg",
            title: "Salon Nirvana by SS",
            location: "Rajouri Garden",
            badge: "DEALS",
            badge_text: "",
            price: 249,
            cost: "Salon Services from 249",
            bought: "768"
            },
            {
            id: 64,
            image: "https://img4.nbstatic.in/tr:w-350/5edb5a304cedfd000b21d8b4.jpg",
            title: "Figaro's Unisex Salon",
            location: "Club Road Market, Punjabi Bagh West",
            badge: "DEALS",
            badge_text: "",
            price: 399,
            cost: "Salon Services from 399",
            bought: "610"
            },
            {
            id: 65,
            image: "https://img4.nbstatic.in/tr:w-350/5f783ba3b7b01c000b8d292e.jpg",
            title: "Hair Planet",
            location: "Vasant Kunj Sector B",
            badge: "DEALS",
            badge_text: "",
            price: 989,
            cost: "Salon Services from 989",
            bought: "533"
            },
            {
            id: 66,
            image: "https://img4.nbstatic.in/tr:w-350/6176a4be40e9df000b730bce.jpg",
            title: "Affinity Express",
            location: "Chela Ram Road, Old Rajendra Nagar",
            badge: "DEALS",
            badge_text: "",
            price:349,
            cost: "Salon Services from 349",
            bought: "492"
            },
            {
                id: 67,
                image: "https://img4.nbstatic.in/tr:w-350/5d36cd02590801000d56fe4b.jpg",
                title: "Jawed Habib Hair & Beauty",
                location: "Palam - Dabri Marg, Mahavir Enclave",
                badge: "DEALS",
                badge_text: "",
                price: 189,
                cost: "Salon Services from 189",
                bought: "468"
                },
                {
                id: 68,
                image: "https://img4.nbstatic.in/tr:w-350/5f48eb2a52faff000b5928b0.jpg",
                title: "Vrikshakalpa Ayurveda & Panchakarma Center",
                location: "Malviya Nagar Main Market, Malviya Nagar",
                badge: "DEALS",
                badge_text: "",
                price: 1299,
                cost: "Massage Offer from 1299",
                bought: "265"
                },
                {
                id: 69,
                image: "https://img4.nbstatic.in/tr:w-350/5b02a19f4cedfd000c7fb502.jpg",
                title: "Geetanjali Studio",
                location: "Janakpuri",
                badge: "DEALS",
                badge_text: "",
                price: 325,
                cost: "Salon Services from 325",
                bought: "380"
                },
                {
                id: 70,
                image: "https://img4.nbstatic.in/tr:w-350/60e69b8b1e2731000b5adcbf.jpg",
                title: "Aheli Salon - The Roseate",
                location: "Samalka",
                badge: "DEALS",
                badge_text: "",
                price: 2500,
                cost: "Salon Services from 2500",
                bought: "261"
                },
                {
                id: 71,
                image: "https://img4.nbstatic.in/tr:w-350/5edf55f0c9e77c000b1ed958.jpg",
                title: "La Olive Salon",
                location: "Shaheed Rajguru Marg, Vikaspuri",
                badge: "DEALS",
                badge_text: "",
                price: 399,
                cost: "Salon Services from 399",
                bought: "341"
                },
                {
                id: 72,
                image: "https://img4.nbstatic.in/tr:w-350/5d1b486dc9e77c000d90a156.jpg",
                title: "Glanz Studio Xpress Salon",
                location: "Lajpat Nagar 2",
                badge: "DEALS",
                badge_text: "",
                price: 99,
                cost: "Salon Services from 99",
                bought: "310"
                }

]


// filtering in ascening order
let asc=document.getElementById("asc");
asc.addEventListener("change",function(){
    let asc_data=coupon_data.sort(function(a,b){
        return a.price-b.price;
    });
    create_card(asc_data);
});

let desc=document.getElementById("desc");
desc.addEventListener("change",function(){
    let desc_data=coupon_data.sort(function(a,b){
        return b.price-a.price;
    });
    create_card(desc_data);
});

let Connaught_place=document.getElementById("Connaught_Place");
Connaught_place.addEventListener("change",function(){
    let Connaught_place_data=coupon_data.filter(function(element){
        return element.location=="Connaught Place";
    });
    create_card(Connaught_place_data);
});




let cart=JSON.parse(localStorage.getItem("cart"))||[];


//  catching div from html

const coupon_div=document.getElementById("coupon_div");

//  creating function to display data

function create_card(coupon_data){
    coupon_div.innerHTML="";
    coupon_data.forEach(function(element){
        let card_container=document.createElement("div");
        card_container.classList.add("col");


        let card=document.createElement("div");
        card.classList.add("card", "h-100","COSTOMIZATION_ON_CARD");
        button=document.createElement("button");
        // button.classList.add("");
        button.innerText="Buy Now";

        card.innerHTML=`
        <img src="${element.image}" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">${element.title}</h5>
          <p class="card-text">${element.location}</p>
          <div>
              <span class="badge bg-primary">${element.badge}</span>
              <span>${element.badge_text}</span>
          </div>
          <p>â‚¹${element.cost}</p>
        </div>
        <div class="card-footer">
            <small class="text-muted">${element.bought} bought</small>
        </div>
        `;
        card.append(button);
        button.addEventListener("click",function(){
            // console.log(clicked);
            if(checkDuplicate(element.id)){
                alert("already added to cart");
            }
            else{
                cart.push(element);
                localStorage.setItem("cart",JSON.stringify(cart));
                alert("added to cart");
            }

        });
        card_container.append(card);
        coupon_div.append(card_container);
    })
}

// calling function
create_card(coupon_data);


function checkDuplicate(id){
    for (let i = 0; i < cart.length; i++) {
        if(cart[i].id==id){
            return true;
        }
        
    }
    return false;
    
}