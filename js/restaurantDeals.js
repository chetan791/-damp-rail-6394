//  let coupon_data=[{
//     id:1,
//     image:"",
//     title:"",
//     location:"",
//     badge:"",
//     badge_text:"",
//     price:"",
//     cost:"",
//     bought:"",
//  },]


 let coupon_data = [
    {
        id: 1,
        image: "https://img4.nbstatic.in/tr:w-350/61e517ca1e2731000bdc4ee5.jpg",
        title: "HOTEL Cafe Pride - Pride Plaza Hotel Aerocity",
        location: "Aerocity",
        badge: "RECOMMENDED",
        badge_text: "1+1 on Buffets",
        price:2252,
        cost: "2252 for 2 people",
        bought: "1,789"
    },
    {
        id: 2,
        image: "https://img4.nbstatic.in/tr:w-350/5fbcace45cc6f2000bc7fade.jpg",
        title: "Castle Barbeque Connaught Place",
        location: "Connaught Place",
        badge: "RECOMMENDED",
        badge_text: "1+1 on Buffets",
        price:1499,
        cost: "1499 for 2 people",
        bought: "5,391"
    },
    {
        id: 3,
        image: "https://img4.nbstatic.in/tr:w-350/60e4423640e9df000b9f2a24.jpg",
        title: "Cafe on 3 - Holiday Inn Mayur Vihar Phase 1",
        location: "Mayur Vihar Phase 1",
        badge: "RECOMMENDED",
        badge_text: "1+1 on Buffets",
        price:2700,
        cost: "2700 for 2 people",
        bought: "1,106"
    },
    {
        id: 4,
        image: "https://img4.nbstatic.in/tr:w-350/6120ad6140e9df000b810d18.jpg",
        title: "Farmer's Basket At Pluck - Hotel Pullman Aerocity",
        location: "Aerocity",
        badge: "RECOMMENDED",
        badge_text: "1+1 on Buffets",
        price:3965,
        cost: "3965 for 2 people",
        bought: "1,888"
    },
    {
        id: 5,
        image: "https://img4.nbstatic.in/tr:w-350/5fe19ad9c4d55d000b8a2186.jpg",
        title: "VIVA Viva - All Day Dining - Holiday Inn Aerocity",
        location: "Aerocity",
        badge: "RECOMMENDED",
        badge_text: "1+1 on Buffets",
        price:2599,
        cost: "2599 for 2 people",
        bought: "992"
    },
    {
        id: 6,
        image: "https://img4.nbstatic.in/tr:w-350/62d067bdedffcc000b0607da.jpg",
        title: "The Great Kabab cafe",
        location: "IGI T3 Road, Mahipalpur",
        badge: "Recommened",
        badge_text: "4.3",
        price: "4265",
        cost: "4265 for 2 people",
        bought: "649"
    },
    {
        id: 7,
        image: "https://img4.nbstatic.in/tr:w-350/5fbcace45cc6f2000bc7fade.jpg",
        title: "The BBQ Industry",
        location: "Jail Road",
        badge: "recommened",
        badge_text: "3.8",
        price: "1200",
        cost: "1200 for 2 people",
        bought: "7,907"
    },
    {
        id: 8,
        image: "https://img4.nbstatic.in/tr:w-350/5f5783ba3ea567000b0ac406.jpg",
        title: "Castle Barbeque",
        location: "Connaught Place",
        badge: "Deals",
        badge_text: "4.5",
        price: "1499",
        cost: "1499 for 2 people",
        bought: "5,391"
    },
    {
        id: 9,
        image: "https://img4.nbstatic.in/tr:w-350/61a9e8ef1e2731000b1bc7ca.jpg",
        title: "Cafe on 3 - Holiday Inn",
        location: "Mayur Vihar Phase 1",
        badge: "Deals",
        badge_text: "4.3",
        price: "2700",
        cost: "2700 for 2 people",
        bought: "1,106"
    },
    {
        id: 10,
        image: "https://img4.nbstatic.in/tr:w-350/62bef269b3c621000b267da6.jpg",
        title: "Thyme - The Umrao",
        location: "Samalka",
        badge: "Deals",
        badge_text: "4.5",
        price: "2499",
        cost: "2499 for 2 people",
        bought: "425"
    },
    {
        id: 11,
        image: "https://img4.nbstatic.in/tr:w-350/5fb27d88c4d55d000bf92209.jpg",
        title: "Cafe Pride - Pride Plaza Hotel",
        location: "Aerocity",
        badge: "Recommened",
        badge_text: "4.2",
        price: "2252",
        cost: "2252 for 2 people",
        bought: "1,789"
    },
    {
        id: 12,
        image: "https://img4.nbstatic.in/tr:w-350/5e034cf4cff47e000b4e791d.jpg",
        title: "THE DINEROOM O The Dineroom Club Road Market, Punjabi Bagh West",
        location: "Punjabi Bagh West",
        badge: "DEALS",
        badge_text: "Drinks with Starters and Set Menu Meals & Buffet Offer",
        price: 2099,
        cost: "2099 for 1 person",
        bought: "1,140"
        },
        {
        id: 13,
        image: "https://img4.nbstatic.in/tr:w-350/6006899fc2e889000b6f2e0e.jpg",
        title: "Upgrade Kitchen & Bar New Friends Colony Market, Friends Colony East",
        location: "Friends Colony East",
        badge: "DEALS",
        badge_text: "Drinks with Starters",
        price: 1199,
        cost: "1199 for 1 person",
        bought: "848"
        },
        {
        id: 14,
        image: "https://img4.nbstatic.in/tr:w-350/56ae0c770b04512cde6bf7c7.jpg",
        title: "Drool Kitchen Sector 10 Dwarka",
        location: "Dwarka",
        badge: "DEALS",
        badge_text: "Drinks & Starter And Set Menu Meals",
        price: 699,
        cost: "699 for 1 person",
        bought: "1,013"
        },
        {
        id: 15,
        image: "https://img4.nbstatic.in/tr:w-350/601be805e1ecca000b594d84.jpg",
        title: "Myntra Online Deal",
        location: "",
        badge: "GIFT CARDS",
        badge_text: "Myntra e-Gift Card up to worth Rs.5000",
        price: 1000,
        cost: "1000 for 1 e-gift card",
        bought: "8,717"
        },
        {
        id: 16,
        image: "https://img4.nbstatic.in/tr:w-350/604efabf3eb5b6000b55cc1f.jpg",
        title: "DELHI'S FIRST GERMAN MICROBREWERY Connaught Clubhouse Connaught Place",
        location: "Connaught Place",
        badge: "DEALS",
        badge_text: "Beer & Drinks with Starters",
        price: 1899,
        cost: "1899 for 1 person",
        bought: "675"
        },
        {
        id: 17,
        image: "https://img4.nbstatic.in/tr:w-350/62dfd5c5b3c621000b6fbc09.jpg",
        title: "CROWNE PLAZAⓇ AN IHGⓇ HOTEL NEW DELHI MAVIID VIHAR NOIDA",
        location: "Noida",
        badge: "DEALS",
        badge_text: "Buffet Offers",
        price: 2299,
        cost: "2299 for 1 person",
        bought: "821"
        },
        {
            id: 18,
            image: "https://img4.nbstatic.in/tr:w-350/5e034cf4cff47e000b4e791d.jpg",
            title: "THE DINEROOM O The Dineroom Club Road Market, Punjabi Bagh West",
            location: "Punjabi Bagh West",
            badge: "DEALS",
            badge_text: "Drinks with Starters and Set Menu Meals & Buffet Offer",
            price: 2599,
            cost: "2599 for 1 person",
            bought: "1,140"
            }
        
]

// filtering in ascening order
let asc=document.getElementById("asc");
asc.addEventListener("change",function(){
    let asc_data=coupon_data.sort(function(a,b){
        return a.price-b.price;
    });
    create_card(asc_data);
});

let desc=document.getElementById("desc");
desc.addEventListener("change",function(){
    let desc_data=coupon_data.sort(function(a,b){
        return b.price-a.price;
    });
    create_card(desc_data);
});


let Aerocity=document.getElementById("Aerocity");
Aerocity.addEventListener("change",function(){
    let Aerocity_data=coupon_data.filter(function(element){
        return element.location=="Aerocity";
    });
    create_card(Aerocity_data);
});

let Connaught_place=document.getElementById("Connaught_Place");
Connaught_place.addEventListener("change",function(){
    let Connaught_place_data=coupon_data.filter(function(element){
        return element.location=="Connaught Place";
    });
    create_card(Connaught_place_data);
});

let Noida=document.getElementById("Noida");
Noida.addEventListener("change",function(){
    let noida_data=coupon_data.filter(function(element){
        return element.location=="Noida";
    });
    create_card(noida_data);
});



let cart=JSON.parse(localStorage.getItem("cart"))||[];


//  catching div from html

const coupon_div=document.getElementById("coupon_div");

//  creating function to display data

function create_card(coupon_data){
    coupon_div.innerHTML="";
    coupon_data.forEach(function(element){
        let card_container=document.createElement("div");
        card_container.classList.add("col");


        let card=document.createElement("div");
        card.classList.add("card", "h-100","COSTOMIZATION_ON_CARD");
        button=document.createElement("button");
        // button.classList.add("");
        button.innerText="Buy Now";

        card.innerHTML=`
        <img src="${element.image}" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">${element.title}</h5>
          <p class="card-text">${element.location}</p>
          <div>
              <span class="badge bg-primary">${element.badge}</span>
              <span>${element.badge_text}</span>
          </div>
          <p>₹${element.cost}</p>
        </div>
        <div class="card-footer">
            <small class="text-muted">${element.bought} bought</small>
        </div>
        `;
        card.append(button);
        button.addEventListener("click",function(){
            // console.log(clicked);
            if(checkDuplicate(element.id)){
                alert("already added to cart");
            }
            else{
                cart.push(element);
                localStorage.setItem("cart",JSON.stringify(cart));
                alert("added to cart");
            }

        });
        card_container.append(card);
        coupon_div.append(card_container);
    })
}

// calling function
create_card(coupon_data);


function checkDuplicate(id){
    for (let i = 0; i < cart.length; i++) {
        if(cart[i].id==id){
            return true;
        }
        
    }
    return false;
    
}